<ion-modal-view>

  <ion-header-bar>
    <div class="buttons">
      <button class="button button-clear" ng-click="actions.closeLogin()">取消</button>
    </div>
    <h1 class="title">请登录</h1>
  </ion-header-bar>
  
  <ion-content>
    <!-- <form class="form-horizontal w5c-form" w5c-form-validate="" w5c-submit="actions.login()" role="form" novalidate name="form_user_login"> --><!-- 使用w5c-submit会导致移动设备虚拟键盘的go按钮失效, 需要使用ng-submit, 如下 -->
    <form class="form-horizontal w5c-form" w5c-form-validate="" ng-submit="actions.login()" role="form" novalidate name="form_user_login">
      <ion-list>
        <!-- <ion-item class="item-input item-floating-label no-padding-tb"> --><!-- 这里按照文档用label标签的话会使button-clear-input失效 -->
        <ion-item class="item-input no-padding-tb">
          <!-- <div class="item-input"> --><!-- 去掉这里的div, 把item-input放到ion-item中, 显示略微有所不同 -->
            <span class="input-label">用户名:</span>
            <!-- <input type="text" autofocus="" placeholder="请输入用户名" w5c-unique-check="{url:'/check?username={{login.username}}'}" ng-model="login.username" required="" name="username" ng-pattern="/^[A-Za-z]{1}[0-9A-Za-z_]{1,19}$/"> -->
            <input type="text" placeholder="请输入用户名" ng-model="login.username" required="" name="username" ng-pattern="/^[0-9A-Za-z_]{1,19}$/" class="min-height"><!-- 在input里面加 autofocus="" 属性有可能会导致页面向上弹出顶部 -->
            <button-clear-input input="login.username"></button-clear-input>
          <!-- </div> -->
        </ion-item>
        <!-- <ion-item class="item-input item-floating-label no-padding-tb"> -->
        <ion-item class="item-input no-padding-tb">
          <!-- <div class="item-input"> -->
            <span class="input-label">密<span class="take-position">占</span>码:</span>
            <input type="password" placeholder="请输入密码" ng-model="login.password" required="" name="password" ng-minlength="1" ng-maxlength="16" class="min-height">
            <button-clear-input input="login.password"></button-clear-input>
          <!-- </div> -->
        </ion-item>
        <!-- <div class="item item-toggle text-right">
          <span>记住密码</span>
          <label class="toggle toggle-positive">
            <input type="checkbox">        
            <div class="track">
              <div class="handle"></div>
            </div>
          </label>
        </div> -->
        <ion-toggle ng-model="login.rememberme" toggle-class="toggle-calm" class="text-right">记住密码</ion-toggle>
        <ion-item class="row no-padding-tb">
          <div class="col"><button class="button button-block button-positive" type="submit">登录</button></div>
          <div class="col"><button class="button button-block button-stable" type="reset">重置</button></div>
          <div class="col"><button class="button button-block button-energized" ng-click="actions.closeLogin()" type="button">取消</button></div>
          <!-- <div class="col"><button class="button button-block button-energized" ng-click="actions.preRegister()" type="button">注册</button></div> -->
        </ion-item>
        <ion-item ng-if="error.loginError" class="no-padding-tb"><!-- ng-if会创建子$scope, 因此需要采用数组方式传递变量(内存地址引用), 否则子$scope中对loginError的改变不会影响父$scope的loginError, 元素不会消失 -->
          {{error.loginError}} <i class="icon ion-ios-close" ng-click="error.loginError = ''"></i>
        </ion-item>
      </ion-list>
    </form>
  </ion-content>

</ion-modal-view>